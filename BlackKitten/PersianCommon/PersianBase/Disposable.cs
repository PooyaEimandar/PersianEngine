/*
 * Copyright (c) BaziPardaz.Co Ltd. All rights reserved.
 * 
 * File Name        : Disposable.cs
 * File Description : The base disposable class
 * Generated by     : Pooya Eimandar
 * Last modified by : Pooya Eimandar on 9/28/2013
 * Comment          : 
 */

using System;

public abstract class Disposable
{
    public bool isDisposed;

    #region Constructor/Destructor

    public Disposable()
    {
        this.isDisposed = new bool();
        GC.Collect();
        GC.WaitForPendingFinalizers();
    }

    ~Disposable()
    {
        Dispose(false);
    }

    #endregion

    #region Dispose

    public void Dispose()
    {
        Dispose(true);
        GC.SuppressFinalize(this);
    }

    protected virtual void Dispose(bool disposing)
    {
        if (!disposing || isDisposed) return;
        isDisposed = true;
    }

    #endregion
}
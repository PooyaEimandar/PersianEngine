/*
 * Copyright (c) BaziPardaz.Co Ltd. All rights reserved.
 * 
 * File Name        : LightStencilStates.cs
 * File Description : The stencil states of light
 * Generated by     : Pooya Eimandar
 * Last modified by : Pooya Eimandar on 8/9/2013
 * Comment          : 
 */

using Microsoft.Xna.Framework.Graphics;

namespace PersianCore.Graphics.Lights.PrepassTechnique
{
    internal class LightStencilStates : Node
    {
        #region Fields & Properties

        public DepthStencilState ccwDepthState;
        public DepthStencilState cwDepthState;
        public DepthStencilState directionalDepthState;
        public DepthStencilState depthStateReConstructZ;
        public DepthStencilState depthStateDrawLights;

        #endregion

        #region Constructor

        public LightStencilStates()
        {
            this.cwDepthState = new DepthStencilState()
            {
                DepthBufferWriteEnable = false,
                DepthBufferFunction = CompareFunction.LessEqual,
            };
            this.ccwDepthState = new DepthStencilState()
            {
                DepthBufferWriteEnable = false,
                DepthBufferFunction = CompareFunction.GreaterEqual,
            };
            this.directionalDepthState = new DepthStencilState()
            {
                DepthBufferWriteEnable = false,
                DepthBufferFunction = CompareFunction.Greater,
            };
            this.depthStateDrawLights = new DepthStencilState()
            {
                DepthBufferFunction = CompareFunction.GreaterEqual,
                DepthBufferWriteEnable = false,
            };
            this.depthStateReConstructZ = new DepthStencilState
            {
                DepthBufferEnable = true,
                DepthBufferWriteEnable = true,
                DepthBufferFunction = CompareFunction.Always
            };
        }

        #endregion

        #region Dispose

        protected override void Dispose(bool disposing)
        {
            SystemMemory.SafeDispose(this.ccwDepthState);
            SystemMemory.SafeDispose(this.cwDepthState);
            SystemMemory.SafeDispose(this.directionalDepthState);
            SystemMemory.SafeDispose(this.depthStateReConstructZ);
            SystemMemory.SafeDispose(this.depthStateDrawLights);
            base.Dispose(disposing);
        }

        #endregion
    }
}

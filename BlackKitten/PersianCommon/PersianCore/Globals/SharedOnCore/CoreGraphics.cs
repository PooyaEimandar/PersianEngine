/*
 * Copyright (c) BaziPardaz.Co Ltd. All rights reserved.
 * 
 * File Name        : CoreGraphics.cs
 * File Description : Shared graphics core
 * Generated by     : Pooya Eimandar
 * Last modified by : Pooya Eimandar on 8/27/2013
 * Comment          : 
 */
using Microsoft.Xna.Framework.Graphics;

namespace PersianCore
{
    public class CoreGraphics
    {
        #region Fields & Properties

        DepthStencilState InitialDepthStencilState;
        BlendState InitialBlendState;
        RasterizerState InitialRasterizerState;
        int ReferenceStencil;
        int MultiSampleMask;

        #endregion

        #region Constructor

        public CoreGraphics()
        {
            this.InitialDepthStencilState = DepthStencilState.Default;
            this.InitialBlendState = BlendState.Opaque;
            this.InitialRasterizerState = RasterizerState.CullCounterClockwise;
            this.ReferenceStencil = 0;
            this.MultiSampleMask = -1;
        }

        #endregion

        #region Methods

        public void Fetch(GraphicsDevice GDevice)
        {
            this.InitialDepthStencilState = GDevice.DepthStencilState;
            this.InitialBlendState = GDevice.BlendState;
            this.InitialRasterizerState = GDevice.RasterizerState;
            this.ReferenceStencil = GDevice.ReferenceStencil;
            this.MultiSampleMask = GDevice.MultiSampleMask;
        }

        public void Release(GraphicsDevice GDevice)
        {
            GDevice.DepthStencilState = this.InitialDepthStencilState;
            GDevice.BlendState = this.InitialBlendState;
            GDevice.RasterizerState = this.InitialRasterizerState;
            GDevice.ReferenceStencil = this.ReferenceStencil;
            GDevice.MultiSampleMask = this.MultiSampleMask;
            GDevice.SetVertexBuffer(null);
            GDevice.Indices = null;
        }

        #endregion
    }
}
